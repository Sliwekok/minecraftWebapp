{% extends('layouts/app.html.twig') %}

{% block content %}

    {#  load chart.js for server usage #}

    <div class="row">
        <div class="col-8 offset-2 text-center">
            <p class="title">Server preview</p>
        </div>
        <div class="col-12 serverManagement d-inline-flex flex-wrap">
            <div class="col-5 text-center serverStatus">
                <p class="fw-bolder">Server status</p>
                <div class="col-12">
                    <button data-message="Are you sure you want to set server online?"
                            data-url="{{ url('server_start') }}"
                            data-confirmation="true"
                            class="confirmation col-5 btn btn-outline-primary {% if user.server.status is same as ('online') %} active {% endif %}"
                            id="setServerOnline">
                        Online
                    </button>
                    <button data-message="Are you sure you want to set server offline"
                            data-url="{{ url('server_shutdown') }}"
                            data-confirmation="true"
                            class="confirmation col-5 offset-1 btn btn-outline-danger {% if user.server.status is same as ('offline') %} active {% endif %}"
                            id="setServerOffline">
                        Offline
                    </button>
                </div>
            </div>
            <div class="col-5 offset-1 serverInfo">
                <div class="fw-bolder text-center col-12">Server information</div>
                <div class="col-6"><span class="fw-bolder">Server version:</span> {{ server.version }}</div>
                <div class="col-6"><span class="fw-bolder">World level name:</span> {{ server.config.levelname }}</div>
                <div class="col-6"><span class="fw-bolder">Welcome message:</span> {{ server.config.motd }}</div>
                <div class="col-6"><span class="fw-bolder">Connect to server:</span>
                    <code class="connectToServer" title="Click to copy">{{ ip }}:{{ server.config.port }}</code>
                </div>
                <div class="col-6"><span class="fw-bolder">Server type:</span> {{ server.type }}</div>
            </div>
            <div class="col-10 offset-1 mt-5 mb-5 serverUsage">
                <p class="subTitle text-center">Server usage</p>
                <canvas id="serverUsage"></canvas>
            </div>
        </div>
    </div>

{% endblock %}
